<div class="checkout-component" *ngIf="!!pageContent">
  <div (click)="cancel();" class="checkout-component-bg"></div>
  <div class="checkout-component-content">
    <h3 class="checkout-title">{{pageContent.title}}</h3>
    <ul class="list-link">
      <li class="link-item">
        <img class="link-icon" [src]="pageContent.iconAddress">
        <span class="link-text">{{pageContent.addAddress}}</span>
      </li>
      <!--      <li class="link-item">-->
      <!--        <img class="link-icon" [src]="pageContent.iconPayment">-->
      <!--        <span class="link-text">{{pageContent.payment}}</span>-->
      <!--      </li>-->
    </ul>
    <div class="forms-address popup-body">
      <div *ngFor="let field of pageContent.links.address.fields" class="form-item">
        <label class="form-item-label">{{field.name}}</label>
        <input *ngIf="field.type!=='select'" class="form-item-input" [(ngModel)]="field.value"
               [placeholder]="field.placeholder">

        <select (change)="getDistrict(field.value)" *ngIf="field.type==='select' && field.id==='province'"
                class="form-item-input" [(ngModel)]="field.value">
          <option *ngFor="let option of province.provinces" [value]="option.ProvinceId">{{option.ProvinceName}}</option>
        </select>

        <select (change)="getWard(field.value)" *ngIf="field.type==='select' && field.id==='district'"
                class="form-item-input" [(ngModel)]="field.value">
          <option *ngFor="let option of province.districtsView"
                  [value]="option.DistrictId">{{option.DistrictName}}</option>
        </select>

        <select *ngIf="field.type==='select' && field.id==='ward'" class="form-item-input" [(ngModel)]="field.value">
          <option *ngFor="let option of province.wardsView" [value]="option.WardId">{{option.WardName}}</option>
        </select>

      </div>
    </div>
    <ul class="list-link">
      <!--      <li (click)="addressPopupShow=true;" class="link-item">-->
      <!--        <img class="link-icon" [src]="pageContent.iconAddress">-->
      <!--        <span class="link-text">{{pageContent.addAddress}}</span>-->
      <!--      </li>-->
      <!--      <li class="link-item">-->
      <!--        <img class="link-icon" [src]="pageContent.iconPayment">-->
      <!--        <span class="link-text">{{pageContent.payment}}</span>-->
      <!--      </li>-->
    </ul>
    <div class="order-summary-container">
      <div class="order-summary">
        <ng-container *ngIf="!!checkOutInfo && !!checkOutInfo.data">
          <div *ngFor="let item of checkOutInfo.data" class="summary-item">
            <div class="text"><span class="summary-text">{{item.name}}</span></div>
            <div class="value">{{item.value}}</div>
          </div>
        </ng-container>

      </div>
    </div>
    <p class="notify-freeship" *ngIf="!(this.images.length>3)">
     (*) Đơn hàng với 4 khung ảnh trở lên sẽ được freeship.
    </p>
    <div class="bottom-button-container">
      <div (click)="checkout();" class="bottom-button">{{pageContent.checkoutText}}</div>
    </div>
  </div>
</div>

<app-popup (acceptEvent)="applyAddress();"
           (cancelEvent)="addressPopupShow=false;" *ngIf="addressPopupShow"
           [title]="pageContent.addAddress"
           [acceptText]="pageContent.done">
  <div class="forms-address popup-body">
    <div *ngFor="let field of pageContent.links.address.fields" class="form-item">
      <label class="form-item-label">{{field.name}}</label>
      <input class="form-item-input" [(ngModel)]="field.value" [placeholder]="field.placeholder">
    </div>
  </div>
</app-popup>


<swal
  #okSwal
  title="Thông báo thành công"
  text="Đơn hàng của bạn đã được đặt thành công. Chúng tôi sẽ sớm liên hệ với bạn để xác nhận đơn hàng!!!"
  icon="success"
  [showCancelButton]="false"
  [focusCancel]="true">
</swal>

<swal
  #confirmSwal
  title="Thông báo"
  [text]="'Xác nhận đặt đơn hàng này?'"
  icon="question"
  [showCancelButton]="true"
  [focusCancel]="true">
</swal>
